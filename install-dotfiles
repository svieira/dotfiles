# Run this to install and update all the dotfiles in $HOME/dotfiles
set -x

export CONFIGDIR="$HOME/dotfiles";
if [ ! -d $CONFIGDIR ]; then
  git clone https://github.com/svieira/dotfiles $CONFIGDIR
else
  pushd $CONFIGDIR
  git pull origin master
  popd
fi

for f in bashrc profile inputrc vimrc psqlrc
do
  [ -f ~/.$f -a ! -L ~/.$f ] && mv ~/.$f ~/.$f.old
  [ -L ~/.$f ] && continue
  ln -s $CONFIGDIR/$f ~/.$f
done

. ~/.bashrc

mkdir -p $HOME/.local
mkdir -p $HOME/.local/bin
mkdir -p $HOME/.local/opt
mkdir -p $HOME/.local/opt/cdpath

set +x
echo "Installation complete"
